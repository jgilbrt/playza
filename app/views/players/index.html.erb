<div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4 gap-3">
  <h1 class="mb-1 fw-bold text-primary display-3 lh-1" style="letter-spacing: -2px; text-shadow: 0 2px 8px #e3eafc;">Players</h1>
  <%= link_to "#addPlayerModal", class: "btn btn-lg btn-primary shadow-lg px-5 rounded-pill fw-bold w-100 w-md-auto", data: { bs_toggle: "modal" } do %>
    <i class="bi bi-person-plus me-2"></i>Add New Player
  <% end %>
</div>

<div class="card shadow-sm rounded-4">
  <div class="card-body p-0 rounded-4">
    <div class="table-responsive rounded-4">
      <table class="table table-hover table-striped align-middle mb-0">
        <thead class="table-dark">
          <tr>
            <th><i class="bi bi-envelope"></i> Name</th>
            <th><i class="bi bi-bullseye"></i> Goals</th>
            <th><i class="bi bi-arrow-up-right-circle"></i> Assists</th>
            <th><i class="bi bi-person-check"></i> Apps</th>
            <th><i class="bi bi-emoji-frown"></i> DOTDs</th>
            <th><i class="bi bi-star"></i> POTMs</th>
            <th><i class="bi bi-cash-stack"></i> Payments</th>
            <th class="text-center"><i class="bi bi-gear"></i></th>
          </tr>
        </thead>
<tbody>
  <% @players.each do |player| %>
    <tr>
<td class="fw-semibold text-nowrap" style="min-width: 180px;"><%= player.full_name %></td>
      <td>
        <span class="badge bg-success fs-6"><%= player.goals_scored || 0 %></span>
      </td>
      <td>
        <span class="badge bg-info text-dark fs-6"><%= player.assists || 0 %></span>
      </td>
      <td>
        <span class="badge bg-primary bg-opacity-75 fs-6"><%= player.appearances || 0 %></span>
      </td>
      <td>
        <span class="badge bg-warning text-dark fs-6"><%= player.dotd_count || 0 %></span>
      </td>
      <td>
        <span class="badge bg-secondary fs-6"><%= player.potm_count || 0 %></span>
      </td>
      <td>
        <% status = player.payment_status || "Unknown" %>
        <% status_class = case status.downcase
          when "paid" then "success"
          when "pending" then "warning"
          when "overdue" then "danger"
          else "secondary"
        end %>
        <span class="badge bg-<%= status_class %> text-uppercase px-3"><%= status %></span>
      </td>
      <td class="text-center">
        <%= link_to edit_user_path(player), class: "btn btn-sm btn-outline-secondary", title: "Edit" do %>
          <i class="bi bi-pencil"></i>
        <% end %>
        <%= link_to player, method: :delete, data: { confirm: "Are you sure you want to delete this player?" }, class: "btn btn-sm btn-outline-danger ms-1", title: "Delete" do %>
          <i class="bi bi-trash"></i>
        <% end %>
      </td>
    </tr>
  <% end %>
</tbody>
      </table>
    </div>
  </div>
</div>
